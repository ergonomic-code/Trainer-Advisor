spring:

  flyway:
    locations: classpath:db/migration/common

  datasource:
    username: postgres
    password: password
    url: jdbc:postgresql://localhost:54503/qyoga

  servlet:
    multipart:
      max-file-size: 10MB

  mail:
    username: qyogapro@yandex.ru
    password: <secret>
    host: smtp.yandex.ru
    port: 465
    protocol: smtps
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true

  web:
    resources:
      chain:
        strategy:
          content:
            enabled: true
            paths: /**
      cache:
        cachecontrol:
          max-age: 1h

  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${GOOGLE_CLIENT_ID:client-id}
            client-secret: ${GOOGLE_CLIENT_SECRET:client-secret}
            scope:
              - openid
              - email
              - https://www.googleapis.com/auth/calendar.readonly
            redirect-uri: "https://trainer-advisor.pro/therapist/oauth2/google/callback"
            authorization-grant-type: authorization_code
            client-name: Trainer Advisor
            client-authentication-method: client_secret_post

        provider:
          google:
            authorization-uri: https://accounts.google.com/o/oauth2/v2/auth?access_type=offline&prompt=consent
            token-uri: https://oauth2.googleapis.com/token
            user-info-uri: https://openidconnect.googleapis.com/v1/userinfo
            user-name-attribute: email

management:
  endpoints:
    web:
      base-path: /ops/actuator

      exposure:
        include: configprops,loggers,env,info

  endpoint:
    configprops:
      show-values: when_authorized
      access: read_only
    env:
      access: read_only
      show-values: when_authorized

  info:
    git:
      mode: full
    env:
      enabled: true
    java:
      enabled: true
    os:
      enabled: true

server:
  tomcat:
    remoteip:
      protocol-header: X-Forwarded-Proto
      remote-ip-header: X-Forwarded-For

minio:
  user: user
  password: password
  endpoint: http://localhost:50000

trainer-advisor:
  admin:
    email: ta@azhidkov.pro

  integrations:
    google-calendar:
      root-url: https://www.googleapis.com/

logging:
  level:
    org.springframework.security: DEBUG

debug: false